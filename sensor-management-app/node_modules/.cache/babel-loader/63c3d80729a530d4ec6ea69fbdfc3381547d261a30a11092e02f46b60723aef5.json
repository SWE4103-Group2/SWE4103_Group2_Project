{"ast":null,"code":"var _jsxFileName = \"/Users/edgarcobos/Desktop/flask/sensor-management-app/src/RealTime.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport axios from 'axios';\nimport firebase from \"./firebase\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RealTime = () => {\n  _s();\n  useEffect(() => {\n    // Fetch real-time data from Flask backend\n    axios.get('http://localhost:5000/real-time').then(response => console.log(response.data)).catch(error => console.error('Error fetching sensors:', error));\n\n    // Sign in anonymously\n    firebase.auth().signInAnonymously().then(userCredential => {\n      var user = userCredential.user;\n      // The user is signed in anonymously\n    }).catch(error => {\n      var errorCode = error.code;\n      var errorMessage = error.message;\n      // Handle errors here\n    });\n\n    firebase.auth().onAuthStateChanged(user => {\n      if (user) {\n        // User is signed in (either anonymously or with another method)\n        var uid = user.uid;\n      } else {\n        // User is signed out\n      }\n    });\n    const dataDiv = document.getElementById('data');\n\n    // Listen for changes in real-time data\n    const ref = firebase.database().ref('/energydata');\n    ref.on('value', snapshot => {\n      const data = snapshot.val();\n      dataDiv.innerHTML = \"\";\n      for (var key in data) {\n        var sensorEntry = data[key];\n\n        // Create a new element to display the sensor data\n        var sensorElement = document.createElement(\"div\");\n        sensorElement.textContent = `Timestamp: ${sensorEntry.timestamp}, Value: ${sensorEntry.value}`;\n\n        // Append the element to the container\n        dataDiv.appendChild(sensorElement);\n      }\n    }, function (error) {\n      console.error(error);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Real-time Data\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"data\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n_s(RealTime, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = RealTime;\nexport default RealTime;\nvar _c;\n$RefreshReg$(_c, \"RealTime\");","map":{"version":3,"names":["React","useEffect","axios","firebase","jsxDEV","_jsxDEV","RealTime","_s","get","then","response","console","log","data","catch","error","auth","signInAnonymously","userCredential","user","errorCode","code","errorMessage","message","onAuthStateChanged","uid","dataDiv","document","getElementById","ref","database","on","snapshot","val","innerHTML","key","sensorEntry","sensorElement","createElement","textContent","timestamp","value","appendChild","children","fileName","_jsxFileName","lineNumber","columnNumber","id","_c","$RefreshReg$"],"sources":["/Users/edgarcobos/Desktop/flask/sensor-management-app/src/RealTime.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport axios from 'axios';\nimport firebase from \"./firebase\";\n\nconst RealTime = () => {\n  useEffect(() => {\n    // Fetch real-time data from Flask backend\n    axios.get('http://localhost:5000/real-time')\n      .then(response => console.log(response.data))\n      .catch(error => console.error('Error fetching sensors:', error));\n    \n    // Sign in anonymously\n    firebase.auth().signInAnonymously()\n    .then((userCredential) => {\n        var user = userCredential.user;\n        // The user is signed in anonymously\n    })\n    .catch((error) => {\n        var errorCode = error.code;\n        var errorMessage = error.message;\n        // Handle errors here\n    });\n\n    firebase.auth().onAuthStateChanged((user) => {\n        if (user) {\n        // User is signed in (either anonymously or with another method)\n        var uid = user.uid;\n        } else {\n        // User is signed out\n        }\n    });\n\n    const dataDiv = document.getElementById('data');\n\n    // Listen for changes in real-time data\n    const ref = firebase.database().ref('/energydata');\n    ref.on('value', (snapshot) => {\n        const data = snapshot.val();\n        dataDiv.innerHTML = \"\"\n        for (var key in data) {\n            var sensorEntry = data[key];\n\n            // Create a new element to display the sensor data\n            var sensorElement = document.createElement(\"div\");\n            sensorElement.textContent = `Timestamp: ${sensorEntry.timestamp}, Value: ${sensorEntry.value}`;\n            \n            // Append the element to the container\n            dataDiv.appendChild(sensorElement);\n        }\n    }, function(error) {\n        console.error(error);\n    });\n  }, []);\n\n  return (\n    <div>\n      <h1>Real-time Data</h1>\n      <div id=\"data\"></div>\n    </div>\n  );\n};\n\nexport default RealTime;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,QAAQ,MAAM,YAAY;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElC,MAAMC,QAAQ,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACrBN,SAAS,CAAC,MAAM;IACd;IACAC,KAAK,CAACM,GAAG,CAAC,iCAAiC,CAAC,CACzCC,IAAI,CAACC,QAAQ,IAAIC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACG,IAAI,CAAC,CAAC,CAC5CC,KAAK,CAACC,KAAK,IAAIJ,OAAO,CAACI,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC,CAAC;;IAElE;IACAZ,QAAQ,CAACa,IAAI,CAAC,CAAC,CAACC,iBAAiB,CAAC,CAAC,CAClCR,IAAI,CAAES,cAAc,IAAK;MACtB,IAAIC,IAAI,GAAGD,cAAc,CAACC,IAAI;MAC9B;IACJ,CAAC,CAAC,CACDL,KAAK,CAAEC,KAAK,IAAK;MACd,IAAIK,SAAS,GAAGL,KAAK,CAACM,IAAI;MAC1B,IAAIC,YAAY,GAAGP,KAAK,CAACQ,OAAO;MAChC;IACJ,CAAC,CAAC;;IAEFpB,QAAQ,CAACa,IAAI,CAAC,CAAC,CAACQ,kBAAkB,CAAEL,IAAI,IAAK;MACzC,IAAIA,IAAI,EAAE;QACV;QACA,IAAIM,GAAG,GAAGN,IAAI,CAACM,GAAG;MAClB,CAAC,MAAM;QACP;MAAA;IAEJ,CAAC,CAAC;IAEF,MAAMC,OAAO,GAAGC,QAAQ,CAACC,cAAc,CAAC,MAAM,CAAC;;IAE/C;IACA,MAAMC,GAAG,GAAG1B,QAAQ,CAAC2B,QAAQ,CAAC,CAAC,CAACD,GAAG,CAAC,aAAa,CAAC;IAClDA,GAAG,CAACE,EAAE,CAAC,OAAO,EAAGC,QAAQ,IAAK;MAC1B,MAAMnB,IAAI,GAAGmB,QAAQ,CAACC,GAAG,CAAC,CAAC;MAC3BP,OAAO,CAACQ,SAAS,GAAG,EAAE;MACtB,KAAK,IAAIC,GAAG,IAAItB,IAAI,EAAE;QAClB,IAAIuB,WAAW,GAAGvB,IAAI,CAACsB,GAAG,CAAC;;QAE3B;QACA,IAAIE,aAAa,GAAGV,QAAQ,CAACW,aAAa,CAAC,KAAK,CAAC;QACjDD,aAAa,CAACE,WAAW,GAAI,cAAaH,WAAW,CAACI,SAAU,YAAWJ,WAAW,CAACK,KAAM,EAAC;;QAE9F;QACAf,OAAO,CAACgB,WAAW,CAACL,aAAa,CAAC;MACtC;IACJ,CAAC,EAAE,UAAStB,KAAK,EAAE;MACfJ,OAAO,CAACI,KAAK,CAACA,KAAK,CAAC;IACxB,CAAC,CAAC;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,oBACEV,OAAA;IAAAsC,QAAA,gBACEtC,OAAA;MAAAsC,QAAA,EAAI;IAAc;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACvB1C,OAAA;MAAK2C,EAAE,EAAC;IAAM;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAClB,CAAC;AAEV,CAAC;AAACxC,EAAA,CAxDID,QAAQ;AAAA2C,EAAA,GAAR3C,QAAQ;AA0Dd,eAAeA,QAAQ;AAAC,IAAA2C,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}